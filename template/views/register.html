<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>회원가입</h1>
    <form action="" class="register-form">
        <div>
            <label for="user_id">user_id</label>
            <input type="text" id="user_id" autocomplete="off" required>
        </div>

        <div>
            <label for="user_pwd">user_pwd</label>
            <input type="password" id="user_pwd" autocomplete="off" required>
        </div>
        <div>
            <button class="submit">전송</button>
        </div>
        
    </form>

    <script>
        const registerForm = document.querySelector(".register-form");
        registerForm.addEventListener('submit',(event)=>{
            event.preventDefault(); //화면 갱신방지

            fetch('http://localhost:3000/register',{
                method: 'POST',
                body: JSON.stringify({
                    user_id : user_id.value,
                    user_pwd : user_pwd.value
                }),
                headers:{'Content-type': 'application/json; charset=utf-8'}
            })
            .then(res=>res.json())
            .then(res=>{
                if(res.success==='ok'){
                    location.href="http://localhost:3000/login";
                }
            })
        })

    </script>
</body>
</html>